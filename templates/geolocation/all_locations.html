<!-- geolocation/templates/geolocation/all_locations.html -->
<div id="map" style="height: 600px;"></div>
<script>
    var map = L.map('map').setView([0, 0], 2);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    {% for location in locations %}
    L.marker([{{ location.latitude }}, {{ location.longitude }}])
        .bindPopup('{{ location.user.username }}')
        .addTo(map);
    {% endfor %}
</script>